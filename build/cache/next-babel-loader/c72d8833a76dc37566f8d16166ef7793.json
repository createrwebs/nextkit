{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/dohome/dohome/tail-kit/components/layout/ComponentLayout.tsx\";\nimport * as gtag from '../../lib/gtag';\nimport { LiveEditor, LivePreview, LiveProvider } from 'react-live';\nimport { useCallback, useRef, useState } from 'react';\nimport EDITOR_THEME from '../../editorTheme';\nimport Link from 'next/link';\nimport ReactDOMServer from 'react-dom/server';\nimport Toggle from '../kit/components/form/toggle/Toggle';\nimport { formatHtml } from '../../utils/Utils';\nimport AdBanner from '../site/Pub/Banner';\nvar STATUS;\n\n(function (STATUS) {\n  STATUS[\"EDIT_CODE\"] = \"edit\";\n  STATUS[\"DEFAULT\"] = \"default\";\n})(STATUS || (STATUS = {}));\n\nconst ComponentLayout = props => {\n  const CP = props.component;\n  const scope = {\n    CP\n  };\n  /**\n   * We must use useMemo here but there is an issue with renderToStaticMarkup\n   * https://github.com/facebook/react/issues/16416\n   */\n\n  const code = useCallback(() => {\n    return formatHtml(ReactDOMServer.renderToStaticMarkup(props.element));\n  }, [props.element]);\n  const {\n    0: isDarkMode,\n    1: setDarkMode\n  } = useState(false);\n  const {\n    0: hasCopied,\n    1: setHasCopied\n  } = useState(false);\n  const previewRef = useRef();\n\n  const changeMode = isDark => {\n    setDarkMode(isDark);\n\n    if (isDark) {\n      previewRef.current.classList.add('dark');\n    } else {\n      previewRef.current.classList.remove('dark');\n    }\n  };\n\n  const copyCode = () => {\n    const el = document.createElement('textarea');\n    el.value = code();\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n    setHasCopied(true);\n    gtag.event({\n      category: 'action',\n      value: props.title,\n      label: 'Copy code',\n      action: 'Copy'\n    });\n  };\n\n  const COPY_BTN = () => {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: copyCode,\n      className: `w-28 px-4 py-2 flex items-center text-base font-medium rounded-md ${hasCopied ? 'text-white bg-green-500 hover:bg-green-700' : 'text-gray-800 bg-white hover:bg-gray-200'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"20\",\n        height: \"20\",\n        fill: \"currentColor\",\n        className: \"mr-2\",\n        viewBox: \"0 0 1792 1792\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M1696 384q40 0 68 28t28 68v1216q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-288h-544q-40 0-68-28t-28-68v-672q0-40 20-88t48-76l408-408q28-28 76-48t88-20h416q40 0 68 28t28 68v328q68-40 128-40h416zm-544 213l-299 299h299v-299zm-640-384l-299 299h299v-299zm196 647l316-316v-416h-384v416q0 40-28 68t-68 28h-416v640h512v-256q0-40 20-88t48-76zm956 804v-1152h-384v416q0 40-28 68t-68 28h-416v640h896z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), hasCopied ? 'Copied' : 'Copy']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  };\n\n  const {\n    0: status,\n    1: setStatus\n  } = useState(STATUS.DEFAULT);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-gray-100 shadow rounded-xl mb-4 ${props.containerClasses ? props.containerClasses : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row items-center justify-between bg-white p-4 border rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-light text-gray-600 mb-2 md:mb-0\",\n          children: [props.title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center flex-row flex-wrap gap-4 justify-center\",\n          children: [props.showSwitchMode && /*#__PURE__*/_jsxDEV(Toggle, {\n            label: \"Dark mode\",\n            onChange: mode => changeMode(mode)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 50\n          }, this), props.jsLink && /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"flex items-center text-black border border-gray-800 bg-yellow-300 hover:bg-yellow-400 rounded-lg p-2\",\n            href: props.jsLink,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"20\",\n              height: \"20\",\n              fill: \"currentColor\",\n              className: \" w-6 h-6 mr-2\",\n              viewBox: \"0 0 1792 1792\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), \"Need JS\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this), props.needConfiguration && /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/started#configuration\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"flex items-center text-black border border-gray-800 bg-yellow-300 hover:bg-yellow-400 rounded-lg p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                fill: \"currentColor\",\n                className: \" w-6 h-6 mr-2\",\n                viewBox: \"0 0 1792 1792\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 37\n              }, this), \"Need configuration\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-32\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setStatus(STATUS.EDIT_CODE),\n              className: \"w-28 flex items-center justify-between px-4 py-2 border border-gray-800  text-base font-medium rounded-md text-gray-800 bg-white hover:bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 2048 1792\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M681 1399l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23t-10 23l-393 393 393 393q10 10 10 23t-10 23zm591-1067l-373 1291q-4 13-15.5 19.5t-23.5 2.5l-62-17q-13-4-19.5-15.5t-2.5-24.5l373-1291q4-13 15.5-19.5t23.5-2.5l62 17q13 4 19.5 15.5t2.5 24.5zm657 651l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this), \"code\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), COPY_BTN()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LiveProvider, {\n        scope: scope,\n        theme: EDITOR_THEME,\n        disabled: status !== STATUS.EDIT_CODE,\n        language: \"markup\",\n        code: code(),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${props.vertical ? 'flex-col justify-center' : 'flex-col md:flex-row justify-between '} flex gap-4 items-start ${props.fullscreen ? '' : 'mx-4 py-12'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            ref: previewRef,\n            className: `${props.vertical ? 'w-full ' : ''}mx-auto`,\n            children: /*#__PURE__*/_jsxDEV(LivePreview, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this), status !== STATUS.DEFAULT && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${props.vertical ? '' : 'md:w-3/4'} relative w-full`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-2 right-24 z-10\",\n                children: COPY_BTN()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setStatus(STATUS.DEFAULT),\n                className: \"w-12 p-2 absolute top-2 right-2 z-30 text-base font-medium rounded-md bg-red-300 hover:bg-red-400 \",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"6\",\n                  height: \"6\",\n                  className: \"h-6 w-6 mx-auto text-gray-800 \",\n                  fill: \"currentColor\",\n                  viewBox: \"0 0 1792 1792\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(LiveEditor, {\n                className: \"rounded-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, props.title, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), props.withPub && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-gray-100 shadow rounded-xl mb-4 ${props.containerClasses ? props.containerClasses : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row items-center justify-between bg-white p-4 border rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl font-light text-gray-600 mb-2 md:mb-0\",\n          children: \"Publicity \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          children: [\"(adsbygoogle = window.adsbygoogle || []).push(\", \");\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/_jsxDEV(AdBanner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this)]\n    }, props.title, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\nexport default ComponentLayout;","map":{"version":3,"sources":["/Users/dohome/dohome/tail-kit/components/layout/ComponentLayout.tsx"],"names":["gtag","LiveEditor","LivePreview","LiveProvider","useCallback","useRef","useState","EDITOR_THEME","Link","ReactDOMServer","Toggle","formatHtml","AdBanner","STATUS","ComponentLayout","props","CP","component","scope","code","renderToStaticMarkup","element","isDarkMode","setDarkMode","hasCopied","setHasCopied","previewRef","changeMode","isDark","current","classList","add","remove","copyCode","el","document","createElement","value","body","appendChild","select","execCommand","removeChild","event","category","title","label","action","COPY_BTN","status","setStatus","DEFAULT","containerClasses","showSwitchMode","mode","jsLink","needConfiguration","EDIT_CODE","vertical","fullscreen","withPub"],"mappings":"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","sourcesContent":["import * as gtag from '../../lib/gtag';\n\nimport { LiveEditor, LivePreview, LiveProvider } from 'react-live';\nimport { useCallback, useRef, useState } from 'react';\n\nimport EDITOR_THEME from '../../editorTheme';\nimport Link from 'next/link';\nimport ReactDOMServer from 'react-dom/server';\nimport Toggle from '../kit/components/form/toggle/Toggle';\nimport { formatHtml } from '../../utils/Utils';\nimport AdBanner from '../site/Pub/Banner';\n\ninterface Props {\n    element: JSX.Element;\n    component: any;\n    title: string;\n    jsLink?: string;\n    needConfiguration?: boolean;\n    showSwitchMode?: boolean;\n    vertical?: boolean;\n    containerClasses?: string;\n    fullscreen?: boolean;\n    withPub?: boolean;\n}\n\nenum STATUS {\n    EDIT_CODE = 'edit',\n    DEFAULT = 'default',\n}\n\nconst ComponentLayout = (props: Props) => {\n    const CP = props.component;\n    const scope = { CP };\n\n    /**\n     * We must use useMemo here but there is an issue with renderToStaticMarkup\n     * https://github.com/facebook/react/issues/16416\n     */\n    const code = useCallback(() => {\n        return formatHtml(ReactDOMServer.renderToStaticMarkup(props.element));\n    }, [props.element]);\n\n    const [isDarkMode, setDarkMode] = useState(false);\n    const [hasCopied, setHasCopied] = useState(false);\n    const previewRef = useRef<HTMLDivElement>();\n\n    const changeMode = (isDark) => {\n        setDarkMode(isDark);\n        if (isDark) {\n            previewRef.current.classList.add('dark');\n        } else {\n            previewRef.current.classList.remove('dark');\n        }\n    };\n\n    const copyCode = () => {\n        const el = document.createElement('textarea');\n        el.value = code();\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        setHasCopied(true);\n        gtag.event({\n            category: 'action',\n            value: props.title,\n            label: 'Copy code',\n            action: 'Copy',\n        });\n    };\n\n    const COPY_BTN = () => {\n        return (\n            <button\n                onClick={copyCode}\n                className={`w-28 px-4 py-2 flex items-center text-base font-medium rounded-md ${\n                    hasCopied\n                        ? 'text-white bg-green-500 hover:bg-green-700'\n                        : 'text-gray-800 bg-white hover:bg-gray-200'\n                }`}\n            >\n                <svg\n                    width=\"20\"\n                    height=\"20\"\n                    fill=\"currentColor\"\n                    className=\"mr-2\"\n                    viewBox=\"0 0 1792 1792\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                    <path d=\"M1696 384q40 0 68 28t28 68v1216q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-288h-544q-40 0-68-28t-28-68v-672q0-40 20-88t48-76l408-408q28-28 76-48t88-20h416q40 0 68 28t28 68v328q68-40 128-40h416zm-544 213l-299 299h299v-299zm-640-384l-299 299h299v-299zm196 647l316-316v-416h-384v416q0 40-28 68t-68 28h-416v640h512v-256q0-40 20-88t48-76zm956 804v-1152h-384v416q0 40-28 68t-68 28h-416v640h896z\" />\n                </svg>\n                {hasCopied ? 'Copied' : 'Copy'}\n            </button>\n        );\n    };\n\n    const [status, setStatus] = useState<STATUS>(STATUS.DEFAULT);\n    return (\n        <>\n            <div\n                className={`bg-gray-100 shadow rounded-xl mb-4 ${props.containerClasses ? props.containerClasses : ''}`}\n                key={props.title}\n            >\n                <div className=\"flex flex-col md:flex-row items-center justify-between bg-white p-4 border rounded-xl\">\n                    <p className=\"text-xl font-light text-gray-600 mb-2 md:mb-0\">{props.title} </p>\n                    <div className=\"flex items-center flex-row flex-wrap gap-4 justify-center\">\n                        {props.showSwitchMode && <Toggle label=\"Dark mode\" onChange={(mode) => changeMode(mode)} />}\n\n                        {props.jsLink && (\n                            <a\n                                className=\"flex items-center text-black border border-gray-800 bg-yellow-300 hover:bg-yellow-400 rounded-lg p-2\"\n                                href={props.jsLink}\n                            >\n                                <svg\n                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                    width=\"20\"\n                                    height=\"20\"\n                                    fill=\"currentColor\"\n                                    className=\" w-6 h-6 mr-2\"\n                                    viewBox=\"0 0 1792 1792\"\n                                >\n                                    <path d=\"M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z\" />\n                                </svg>\n                                Need JS\n                            </a>\n                        )}\n                        {props.needConfiguration && (\n                            <Link href=\"/started#configuration\">\n                                <a className=\"flex items-center text-black border border-gray-800 bg-yellow-300 hover:bg-yellow-400 rounded-lg p-2\">\n                                    <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"20\"\n                                        height=\"20\"\n                                        fill=\"currentColor\"\n                                        className=\" w-6 h-6 mr-2\"\n                                        viewBox=\"0 0 1792 1792\"\n                                    >\n                                        <path d=\"M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z\" />\n                                    </svg>\n                                    Need configuration\n                                </a>\n                            </Link>\n                        )}\n                        <div className=\"w-32\">\n                            <button\n                                onClick={() => setStatus(STATUS.EDIT_CODE)}\n                                className=\"w-28 flex items-center justify-between px-4 py-2 border border-gray-800  text-base font-medium rounded-md text-gray-800 bg-white hover:bg-gray-100\"\n                            >\n                                <svg\n                                    width=\"20\"\n                                    height=\"20\"\n                                    fill=\"currentColor\"\n                                    viewBox=\"0 0 2048 1792\"\n                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                >\n                                    <path d=\"M681 1399l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23t-10 23l-393 393 393 393q10 10 10 23t-10 23zm591-1067l-373 1291q-4 13-15.5 19.5t-23.5 2.5l-62-17q-13-4-19.5-15.5t-2.5-24.5l373-1291q4-13 15.5-19.5t23.5-2.5l62 17q13 4 19.5 15.5t2.5 24.5zm657 651l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23z\" />\n                                </svg>\n                                code\n                            </button>\n                        </div>\n\n                        {COPY_BTN()}\n                    </div>\n                </div>\n\n                <LiveProvider\n                    scope={scope}\n                    theme={EDITOR_THEME}\n                    disabled={status !== STATUS.EDIT_CODE}\n                    language=\"markup\"\n                    code={code()}\n                >\n                    <div\n                        className={`${\n                            props.vertical ? 'flex-col justify-center' : 'flex-col md:flex-row justify-between '\n                        } flex gap-4 items-start ${props.fullscreen ? '' : 'mx-4 py-12'}`}\n                    >\n                        <div ref={previewRef} className={`${props.vertical ? 'w-full ' : ''}mx-auto`}>\n                            <LivePreview />\n                        </div>\n\n                        {status !== STATUS.DEFAULT && (\n                            <div className={`${props.vertical ? '' : 'md:w-3/4'} relative w-full`}>\n                                <div>\n                                    <div className=\"absolute top-2 right-24 z-10\">{COPY_BTN()}</div>\n\n                                    <button\n                                        onClick={() => setStatus(STATUS.DEFAULT)}\n                                        className=\"w-12 p-2 absolute top-2 right-2 z-30 text-base font-medium rounded-md bg-red-300 hover:bg-red-400 \"\n                                    >\n                                        <svg\n                                            xmlns=\"http://www.w3.org/2000/svg\"\n                                            width=\"6\"\n                                            height=\"6\"\n                                            className=\"h-6 w-6 mx-auto text-gray-800 \"\n                                            fill=\"currentColor\"\n                                            viewBox=\"0 0 1792 1792\"\n                                        >\n                                            <path d=\"M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\" />\n                                        </svg>\n                                    </button>\n                                    <LiveEditor className=\"rounded-lg\" />\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </LiveProvider>\n            </div>\n            {props.withPub && (\n                <div\n                    className={`bg-gray-100 shadow rounded-xl mb-4 ${\n                        props.containerClasses ? props.containerClasses : ''\n                    }`}\n                    key={props.title}\n                >\n                    <div className=\"flex flex-col md:flex-row items-center justify-between bg-white p-4 border rounded-xl\">\n                        <p className=\"text-xl font-light text-gray-600 mb-2 md:mb-0\">Publicity </p>\n                        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>\n                    </div>\n                    <div className=\"p-4\">\n                        <AdBanner />\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default ComponentLayout;\n"]},"metadata":{},"sourceType":"module"}